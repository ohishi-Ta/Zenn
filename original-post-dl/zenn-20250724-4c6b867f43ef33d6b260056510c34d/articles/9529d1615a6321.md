---
title: "ã€Terraformã€‘EC2ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½œæˆã—ã¦ã¿ã‚‹"
emoji: "ğŸ“š"
type: "tech"
topics:
  - "aws"
  - "ec2"
  - "terraform"
  - "awscli"
  - "ami"
published: true
published_at: "2025-01-08 22:52"
---

## ã¯ã˜ã‚ã«
Terraformã®ç’°å¢ƒæ§‹ç¯‰ãŒçµ‚ã‚ã£ãŸã®ã§ã€å‹‰å¼·ã®ãŸã‚ã«EC2ã‚’èµ·å‹•ã—ã¦ã¿ã¾ã™ã€‚
https://zenn.dev/t_oishi/articles/daf195a44dcdfd

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ
- main.tfã‚’ä½œæˆã—ã€ä¸‹è¨˜ã‚’è¨˜è¿°ã€‚
- ä»Šå›ã¯AMIï¼šAmazon Linux 2023 AMIã€ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚¿ã‚¤ãƒ—ï¼št2.microã‚’ä½¿ç”¨ã™ã‚‹
  - amiã®idã¯ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã®EC2åˆæœŸè¨­å®šç”»é¢ã«æ›¸ã‹ã‚Œã¦ã„ã‚‹ã€‚
```HCL:main.tf
provider "aws" {
  profile = "è¨­å®šã—ãŸãƒ¦ãƒ¼ã‚¶ãƒ¼å"
  region = "ap-northeast-1"
}

resource "aws_instance" "hello-world" {
  ami = "ami-0ab02459752898a60"
  instance_type = "t2.micro"
  tags = {
   # ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹å
    Name = "HelloWorld"
  }
}
```

## applyã™ã‚‹
- åˆå›ã¯`terraform initã§åˆæœŸåŒ–`
```
$ terraform init
```
- applyã™ã‚‹ã€‚
```
$ terraform apply
```
- å¤‰æ›´ã«é–¢ã™ã‚‹æƒ…å ±ã«å•é¡ŒãŒãªã‘ã‚Œã°ã€`yes`ã€‚
- ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«è¡Œãã€ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãŒä½œæˆã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèªã€‚

## å‰Šé™¤ã™ã‚‹
```
$ terraform destroy
```

`terraform apply`ã‚„`terraform destroy`ã¯`-auto-approve`ã§`-y`ã‚’ã‚¹ã‚­ãƒƒãƒ—ã§ãã‚‹ã€‚