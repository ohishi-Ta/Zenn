---
title: "ã€GitHub APIãƒ»Next.jsã€‘Zennã®è¨˜äº‹ã‚’GitHub APIã§å–å¾—ã—ã¦ã¿ã‚ˆã†"
emoji: "ğŸ¡"
type: "tech"
topics:
  - "nextjs"
  - "graphql"
  - "api"
  - "zenn"
  - "github"
published: true
published_at: "2025-07-26 00:00"
---
# ã¯ã˜ã‚ã«
å‰å›Zenn APIã‚’æ´»ç”¨ã—ã¦ã€è¨˜äº‹ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã—ã¾ã—ãŸã€‚ã—ã‹ã—ã€ç¾çŠ¶ã®Zenn APIã§ã¯Topicsã‚’å–å¾—ã™ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚
Zennã¯GitHubã¨é€£æºã—ã¦è¨˜äº‹ã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ãã“ã§GitHub APIã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã€Topicsã‚’å«ã‚ãŸè¨˜äº‹æƒ…å ±ã‚’å–å¾—ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

https://zenn.dev/t_oishi/articles/e36041d3af5ea9

**â€»æ—¢ã«ãƒ–ãƒ©ã‚¦ã‚¶ä¸Šã§Zennã®è¨˜äº‹ã‚’ä½œæˆã—ã¦ã„ã‚‹å ´åˆã€Zenn CLIã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚„éå»è¨˜äº‹ã®ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆç­‰ã‚’è¡Œã†å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚**

ã¾ãŸã€GitHub APIã®ä¸­ã§ã‚‚`REST API`ã¨`GraphQL API`ãŒã‚ã‚Šã€ä¸¡æ–¹ã®APIã®æ¯”è¼ƒæ¤œè¨¼ã‚‚è¡Œã„ã¾ã—ãŸã€‚

https://docs.github.com/ja/rest/about-the-rest-api/comparing-githubs-rest-api-and-graphql-api?apiVersion=2022-11-28


# GitHubé€£æº / ãƒ‡ãƒ¼ã‚¿ç§»è¡Œ / Zenn CLIã®å°å…¥
GitHubé€£æºã¨Zenn CLIã®ä½¿ç”¨æ–¹æ³•ã¯å…¬å¼ã®è¨˜äº‹ãŒã‚ã‚Šã¾ã™ã®ã§ã€ãã¡ã‚‰ã‚’å‚ç…§ãã ã•ã„ã€‚
https://zenn.dev/zenn/articles/zenn-cli-guide
https://zenn.dev/zenn/articles/install-zenn-cli
https://zenn.dev/zenn/articles/connect-to-github
https://zenn.dev/zenn/articles/setup-zenn-github-with-export

éå»è¨˜äº‹ã‚’GitHubã¸ç§»è¡Œã™ã‚‹æ‰‹é †ã¨ã—ã¦ã€ä¸€æ‹¬ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆæ©Ÿèƒ½ãŒã‚ã‚Šã¾ã™ã€‚
ã“ã¡ã‚‰ã‚’ä½¿ç”¨ã™ã‚Œã°ç°¡å˜ã«ç§»è¡ŒãŒã§ãã¾ã™ã€‚
https://zenn.dev/settings/export


# GitHub APIã¨ã¯
GitHub APIã«ã¯ä¸»ã«REST APIã¨GraphQL APIã®2ã¤ã®å½¢å¼ãŒã‚ã‚Šã€ãã‚Œãã‚Œç•°ãªã‚‹ç‰¹å¾´ãŒã‚ã‚Šã¾ã™ã€‚

### REST API 
å„ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆãŒå›ºå®šã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿æ§‹é€ ã‚’è¿”ã™ãŸã‚ã€ä¸è¦ãªæƒ…å ±ã‚‚å«ã¾ã‚Œã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚
ã¾ãŸã€å„è¨˜äº‹ã§ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆãŒç•°ãªã‚‹ç‚ºã€å…¨è¨˜äº‹ã®æƒ…å ±ã‚’å–å¾—ã™ã‚‹ãŸã‚ã«ã¯ã€è¨˜äº‹ã”ã¨ã«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã™ã‚‹å¿…è¦ãŒã‚ã‚Šã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã«æ™‚é–“ãŒã‹ã‹ã£ã¦ã—ã¾ã„ã¾ã™ã€‚

**è¨˜äº‹ã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**
```
https://api.github.com/repos/{githubUsername}/{repoName}/contents/{path}
```

https://docs.github.com/ja/rest?apiVersion=2022-11-28
https://docs.github.com/ja/rest/repos?apiVersion=2022-11-28


### GraphQL API 
å˜ä¸€ã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã§ã€1å›ã®ã‚¯ã‚¨ãƒªã§å¿…è¦ãªãƒ‡ãƒ¼ã‚¿ã‚’ã™ã¹ã¦å–å¾—ã§ãã¾ã™ã€‚
å¿…è¦ãªãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã ã‘ã‚’æŒ‡å®šã—ã¦å–å¾—ã§ãã‚‹ãŸã‚ã€åŠ¹ç‡çš„ã§ã™ã€‚ä¾‹ãˆã°ã€ãƒªãƒã‚¸ãƒˆãƒªåã¨è¨˜äº‹ã®ã‚¿ã‚¤ãƒˆãƒ«ã ã‘ãŒæ¬²ã—ã„å ´åˆã€ãã‚Œã‚‰ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®ã¿ã‚’ãƒªã‚¯ã‚¨ã‚¹ãƒˆã§ãã¾ã™ã€‚

**ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**
```
https://api.github.com/graphql
```

https://docs.github.com/ja/graphql/guides/forming-calls-with-graphql


# å®Ÿè£…
### ç’°å¢ƒå¤‰æ•°
```:.env
GITHUB_TOKEN=ã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³
```

Markdownãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‡¦ç†ã™ã‚‹ãŸã‚ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚
```
npm install gray-matter remark remark-html
```
## REST API
### APIå–å¾— ts
```ts:markdownParser.ts
import matter from 'gray-matter';
import { remark } from 'remark';
import html from 'remark-html';

export interface ZennMarkdownData {
  slug: string;
  title: string;
  emoji: string;
  type: 'tech' | 'idea';
  topics: string[];
  published: boolean;
  published_at: string;
  content: string;
  htmlContent: string;
}

export async function getMarkdownArticles(
  githubUsername: string,
  repoName: string = 'Zenn'
): Promise<ZennMarkdownData[]> {
  const token = process.env.GITHUB_TOKEN;
  
  try {
    // GitHubã®articlesãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’å–å¾—
    const response = await fetch(
      `https://api.github.com/repos/${githubUsername}/${repoName}/contents/articles`,
      {
        headers: {
          'Authorization': `Bearer ${token}`,
          'Accept': 'application/vnd.github.v3+json',
        },
      }
    );

    if (!response.ok) {
      throw new Error(`GitHub API Error: ${response.status}`);
    }

    const files = await response.json();
    const articles: ZennMarkdownData[] = [];

    // .mdãƒ•ã‚¡ã‚¤ãƒ«ã®ã¿ã‚’å‡¦ç†
    const markdownFiles = files.filter((file: any) => 
      file.name.endsWith('.md') && file.type === 'file'
    );

    for (const file of markdownFiles) {
      try {
        // ãƒ•ã‚¡ã‚¤ãƒ«å†…å®¹ã‚’å–å¾—
        const fileResponse = await fetch(file.download_url);
        const markdownContent = await fileResponse.text();
        
        // Front Matterã‚’è§£æ
        const { data, content } = matter(markdownContent);
        
        // Markdownã‚’HTMLã«å¤‰æ›
        const processedContent = await remark()
          .use(html)
          .process(content);
        const htmlContent = processedContent.toString();

        articles.push({
          slug: file.name.replace('.md', ''),
          title: data.title || 'Untitled',
          emoji: data.emoji || 'ğŸ“',
          type: data.type || 'tech',
          topics: data.topics || [],
          published: data.published !== false,
          published_at: data.published_at || '',
          content,
          htmlContent,
        });
      } catch (error) {
        console.error(`ãƒ•ã‚¡ã‚¤ãƒ«å‡¦ç†ã‚¨ãƒ©ãƒ¼: ${file.name}`, error);
      }
    }

    // å…¬é–‹æ—¥æ™‚ã§ã‚½ãƒ¼ãƒˆ
    return articles
      .filter(article => article.published)
      .sort((a, b) => new Date(b.published_at).getTime() - new Date(a.published_at).getTime());

  } catch (error) {
    console.error('GitHubè¨˜äº‹å–å¾—ã‚¨ãƒ©ãƒ¼:', error);
    return [];
  }
}

```

### ãƒšãƒ¼ã‚¸è¡¨ç¤ºts
```ts:page.ts
import { getMarkdownArticles } from '@/lib/markdownParser';

export default async function GitHubArticlesPage() {
  const githubUsername = 'GitHubã®ãƒ¦ãƒ¼ã‚¶ãƒ¼å';
  const articles = await getMarkdownArticles(githubUsername);

  return (
    <main className="container mx-auto px-4 py-8">
      <h1 className="text-3xl font-bold mb-8">
        GitHubè¨˜äº‹ ({articles.length}ä»¶)
      </h1>

      <div className="grid gap-6 md:grid-cols-2 lg:grid-cols-3">
        {articles.map((article) => (
          <div 
            key={article.slug} 
            className="bg-white border rounded-lg p-6 hover:shadow-lg"
          >

            <a 
              href={`https://zenn.dev/${githubUsername}/articles/${article.slug}`}
              target="_blank"
              rel="noopener noreferrer"
              className="block"
            >
              <h3 className="font-bold text-lg mb-3 hover:text-blue-600 transition-colors">
                {article.emoji} {article.title}
              </h3>

              <div className="flex flex-wrap gap-2 mb-4">
                <span className={`px-2 py-1 rounded text-xs ${
                  article.type === 'tech' 
                    ? 'bg-blue-100 text-blue-800' 
                    : 'bg-green-100 text-green-800'
                }`}>
                  {article.type}
                </span>
                
                {article.topics.map((topic, index) => (
                  <span 
                    key={index}
                    className="bg-gray-100 text-gray-700 px-2 py-1 rounded text-xs"
                  >
                    #{topic}
                  </span>
                ))}
              </div>

              <p className="text-sm text-gray-500 mb-2">
                {new Date(article.published_at).toLocaleDateString('ja-JP')}
              </p>
              
              <p className="text-blue-600 text-sm font-medium">
                è¨˜äº‹ã‚’èª­ã‚€ â†’
              </p>
            </a>
          </div>
        ))}
      </div>
    </main>
  );
}
```

![](https://storage.googleapis.com/zenn-user-upload/499dff41eb37-20250725.png)

å–å¾—ã§ãã¦ã¾ã™ã­ï¼
ãŸã ç´„60ä»¶ã§14ç§’ãã‚‰ã„å–å¾—ã«æ™‚é–“ãŒæ›ã‹ã£ã¦ã„ã¾ã™ã€‚

## GraphQL API
ã“ã¡ã‚‰ã¯å‹å®šç¾©ã‚’åˆ†ã‘ã¦ã„ã¾ã™ã€‚
### å‹å®šç¾©
```ts:github.ts
// GitHubã®GraphQLãƒ¬ã‚¹ãƒãƒ³ã‚¹å‹
export interface GraphQLEntry {
  name: string;
  type: string;
  object?: {
    text?: string;
  };
}

export interface GraphQLResponse {
  data?: {
    repository?: {
      object?: {
        entries?: GraphQLEntry[];
      };
    };
  };
  errors?: Array<{ message: string }>;
}

// è¨˜äº‹ãƒ‡ãƒ¼ã‚¿ã®å‹
export interface GitHubArticle {
  slug: string;
  title: string;
  emoji: string;
  type: 'tech' | 'idea';
  topics: string[];
  published: boolean;
  published_at: string;
}

// Front Matterå‹
export interface ZennFrontMatter {
  title?: string;
  emoji?: string;
  type?: 'tech' | 'idea';
  topics?: string[];
  published?: boolean;
  published_at?: string;
}
```

### APIå–å¾— ts
```ts:githubGraphQL.ts
import matter from 'gray-matter';
import { 
  GitHubArticle, 
  GraphQLResponse, 
  GraphQLEntry,
  ZennFrontMatter 
} from '@/types/github';

export async function getArticlesWithGraphQL(
  username: string, 
  repo: string = 'Zenn'
): Promise<GitHubArticle[]> {
  const token = process.env.GITHUB_TOKEN;
  
  if (!token) {
    console.error('GITHUB_TOKEN ãŒè¨­å®šã•ã‚Œã¦ã„ã¾ã›ã‚“');
    return [];
  }

  const query = `
    query($owner: String!, $name: String!) {
      repository(owner: $owner, name: $name) {
        object(expression: "HEAD:articles") {
          ... on Tree {
            entries {
              name
              type
              object {
                ... on Blob {
                  text
                }
              }
            }
          }
        }
      }
    }
  `;

  try {
    console.time('GraphQLå–å¾—');
    
    const response = await fetch('https://api.github.com/graphql', {
      method: 'POST',
      headers: {
        'Authorization': `Bearer ${token}`,
        'Content-Type': 'application/json',
      },
      body: JSON.stringify({
        query,
        variables: { 
          owner: username, 
          name: repo 
        }
      })
    });

    if (!response.ok) {
      throw new Error(`GraphQL API Error: ${response.status}`);
    }

    const result: GraphQLResponse = await response.json();
    
    if (result.errors) {
      console.error('GraphQL Errors:', result.errors);
      return [];
    }

    const entries = result.data?.repository?.object?.entries || [];
    console.log(`${entries.length}å€‹ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å–å¾—`);
    
    const articles: GitHubArticle[] = entries
      .filter((entry: GraphQLEntry) => 
        entry.name.endsWith('.md') && 
        entry.type === 'blob' && 
        entry.object?.text
      )
      .map((entry: GraphQLEntry): GitHubArticle | null => {
        try {
          if (!entry.object?.text) return null;
          
          const { data: frontMatter }: { data: ZennFrontMatter } = matter(entry.object.text);
          
          return {
            slug: entry.name.replace('.md', ''),
            title: frontMatter.title || 'Untitled',
            emoji: frontMatter.emoji || 'ğŸ“',
            type: frontMatter.type || 'tech',
            topics: frontMatter.topics || [],
            published: frontMatter.published !== false,
            published_at: frontMatter.published_at || '',
          };
        } catch (error) {
          console.error(`Front Matterè§£æã‚¨ãƒ©ãƒ¼: ${entry.name}`, error);
          return null;
        }
      })
      .filter((article): article is GitHubArticle => 
        article !== null && article.published
      )
      .sort((a: GitHubArticle, b: GitHubArticle) => 
        new Date(b.published_at).getTime() - new Date(a.published_at).getTime()
      );

    console.timeEnd('GraphQLå–å¾—');
    console.log(`${articles.length}ä»¶ã®è¨˜äº‹ã‚’å‡¦ç†å®Œäº†`);
    
    return articles;

  } catch (error) {
    console.error('GraphQLå–å¾—ã‚¨ãƒ©ãƒ¼:', error);
    return [];
  }
}
```

### ãƒšãƒ¼ã‚¸è¡¨ç¤ºts
```ts:page.ts
import { getArticlesWithGraphQL } from '@/lib/githubGraphQL';
import { GitHubArticle } from '@/types/github';

export default async function GraphQLArticlesPage() {
  const githubUsername = 'GitHubã®ãƒ¦ãƒ¼ã‚¶ãƒ¼å';
  
  // GraphQLã§è¨˜äº‹ã‚’å–å¾—
  const articles: GitHubArticle[] = await getArticlesWithGraphQL(githubUsername);

  return (
    <main className="container mx-auto px-4 py-8">
      <div className="flex justify-between items-center mb-8">
        <h1 className="text-3xl font-bold">
          GraphQLè¨˜äº‹å–å¾— ({articles.length}ä»¶)
        </h1>
        <span className="text-sm text-gray-500 bg-green-100 px-3 py-1 rounded">
          é«˜é€Ÿç‰ˆ
        </span>
      </div>

      {articles.length === 0 ? (
        <div className="text-center py-12">
          <p className="text-gray-500 mb-2">è¨˜äº‹ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸ</p>
          <p className="text-sm text-gray-400">
            GitHubè¨­å®šã‚’ç¢ºèªã—ã¦ãã ã•ã„
          </p>
        </div>
      ) : (
        <div className="grid gap-6 md:grid-cols-2 lg:grid-cols-3">
          {articles.map((article) => (
            <div 
              key={article.slug} 
              className="bg-white border rounded-lg p-6 hover:shadow-lg transition-shadow"
            >
              <a 
                href={`https://zenn.dev/${githubUsername}/articles/${article.slug}`}
                target="_blank"
                rel="noopener noreferrer"
                className="block"
              >
                <h3 className="font-bold text-lg mb-3 hover:text-blue-600 transition-colors line-clamp-2">
                  {article.emoji} {article.title}
                </h3>

                <div className="flex flex-wrap gap-2 mb-4">
                  <span className={`px-2 py-1 rounded text-xs font-medium ${
                    article.type === 'tech' 
                      ? 'bg-blue-100 text-blue-800' 
                      : 'bg-green-100 text-green-800'
                  }`}>
                    {article.type}
                  </span>
                  
                  {article.topics.map((topic, index) => (
                    <span 
                      key={index}
                      className="bg-purple-100 text-purple-700 px-2 py-1 rounded text-xs font-medium"
                    >
                      #{topic}
                    </span>
                  ))}
                </div>

                {article.published_at && (
                  <p className="text-sm text-gray-500 mb-2">
                    {new Date(article.published_at).toLocaleDateString('ja-JP')}
                  </p>
                )}
                
                <p className="text-blue-600 text-sm font-medium">
                  è¨˜äº‹ã‚’èª­ã‚€ â†’
                </p>
              </a>
            </div>
          ))}
        </div>
      )}
    </main>
  );
}
```

![](https://storage.googleapis.com/zenn-user-upload/c320f123961b-20250725.png)

ã“ã¡ã‚‰ã‚‚ã†ã¾ãå–ã‚Œã¾ã—ãŸï¼
å–å¾—æ™‚é–“ã¯2ç§’ã»ã©ã«çŸ­ç¸®ã§ãã¦ã„ã¾ã™ã€‚

## å–å¾—æ™‚é–“æ¤œè¨¼
å–å¾—æ™‚é–“ã‚’æ¤œè¨¼ã™ã‚‹ãŸã‚ã€ä¸‹è¨˜ã®ãƒ­ã‚°ã‚’è¨­å®šã—ã¾ã—ãŸã€‚

```ts
  console.time('REST API');
  const restArticles = await getMarkdownArticles(githubUsername);
  console.timeEnd('REST API');
  
  console.time('GraphQL');
  const graphqlArticles = await getArticlesWithGraphQL(githubUsername);
  console.timeEnd('GraphQL');
```

![](https://storage.googleapis.com/zenn-user-upload/4762f2adefab-20250725.png)

ã ã„ã¶å·®ãŒã§ãã¾ã—ãŸã­ã€‚
ã‚·ãƒ³ãƒ—ãƒ«ãªæ“ä½œã«ã¯RESTã€è¤‡é›‘ãªãƒ‡ãƒ¼ã‚¿å–å¾—ã‚„åŠ¹ç‡æ€§ã‚’é‡è¦–ã™ã‚‹å ´åˆã«ã¯GraphQLã‚’ä½¿ã†ã¨è‰¯ã„ã¨æ€ã„ã¾ã™ã€‚


# ãŠã‚ã‚Šã«
ä»Šå›ã¯GitHub APIã‚’ä½¿ã£ã¦Zennã®è¨˜äº‹ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã—ã€REST APIã¨GraphQL APIã®å®Ÿè£…æ¯”è¼ƒã‚’è¡Œã„ã¾ã—ãŸã€‚
ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹é¢ã§ã¯GraphQLãŒåœ§å€’çš„ã«å„ªç§€ã§ã—ãŸãŒã€å®Ÿè£…ã®è¤‡é›‘ã•ã‚„å­¦ç¿’ã‚³ã‚¹ãƒˆã‚’è€ƒæ…®ã™ã‚‹ã¨ã€ç”¨é€”ã«å¿œã˜ãŸé¸æŠã™ã‚‹å¿…è¦ãŒã‚ã‚Šãã†ã§ã™ã€‚
REST APIã¯HTTPã‚­ãƒ£ãƒƒã‚·ãƒ¥ãŒæ´»ç”¨ã—ã‚„ã™ãã€ã‚·ãƒ³ãƒ—ãƒ«ãªæ“ä½œã«ã¯é©ã—ã¦ã„ã¾ã™ã€‚GraphQLã¯è¤‡é›‘ãªé–¢é€£ãƒ‡ãƒ¼ã‚¿ã®å–å¾—ã‚„åŠ¹ç‡æ€§ã‚’é‡è¦–ã™ã‚‹å ´é¢ã§çœŸä¾¡ã‚’ç™ºæ®ã—ã¾ã™ã€‚
