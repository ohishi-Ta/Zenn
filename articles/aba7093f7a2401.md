---
title: "Dockerã‚’ä½¿ç”¨ã—ã¦React/Next.jsé–‹ç™ºç’°å¢ƒã‚’ã¤ãã‚‹"
emoji: "ğŸ’­"
type: "tech"
topics:
  - "docker"
  - "react"
published: true
published_at: "2023-07-26 20:14"
---

## ã¯ã˜ã‚ã«
Reactã‚’å‹‰å¼·ã—ã‚ˆã†ã¨ãƒ­ãƒ¼ã‚«ãƒ«ã§ã®é–‹ç™ºç’°å¢ƒã‚’æ•´å‚™ã—ã‚ˆã†ã¨æ€ã„ã¾ã—ãŸã€‚
nodeã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒä½ã„ãŒã€æ¥­å‹™ã§ã‚‚ä½¿ã†ãŸã‚ä¸‹æ‰‹ã«ã„ã˜ã‚Œãªã„ã€‚ã€‚
ãã“ã§ã€Dockerã§é–‹ç™ºç’°å¢ƒã‚’æ§‹ç¯‰ã—ã¾ã—ãŸã€‚

## æ‰‹é †
1. ä»»æ„ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«`Dockerfile`ä½œæˆ
2. 1ã¨åŒãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«`docker-compose.yaml`ä½œæˆ
3. React:`docker-compose run --rm ã‚µãƒ¼ãƒ“ã‚¹å sh -c 'npx create-react-app ä»»æ„ã®ãƒ•ã‚¡ã‚¤ãƒ«å'`
Next.js:`docker-compose run --rm ã‚µãƒ¼ãƒ“ã‚¹å sh -c 'npx create-next-app ä»»æ„ã®ãƒ•ã‚¡ã‚¤ãƒ«å'`

â˜…ãƒãƒ¼ã‚¸ãƒ§ãƒ³æŒ‡å®šã—ãŸã„å ´åˆã€`create-react-app@ãƒãƒ¼ã‚¸ãƒ§ãƒ³`

5. `docker-compose build`
6. `docker-compose up`

## æ‰‹é †ï¼‘
### --ä»»æ„ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«`Dockerfile`ä½œæˆ

```js:Dockerfile
FROM node:16.15.0
WORKDIR /usr/src/app
```

## æ‰‹é †2
### --1ã¨åŒãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«`docker-compose.yaml`ä½œæˆ

```js:docker-compose.yml
version: '3.9'
services:
  ã‚µãƒ¼ãƒ“ã‚¹å:
    build:
      context: .
      dockerfile: Dockerfile
    volumes:
      - .:/usr/src/app
    command: sh -c "cd ä»»æ„ã®ãƒ•ã‚¡ã‚¤ãƒ«å && nmp start"
    ports:
      - "3000:3000"
    stdin_open: true 
```

Next.jsã®å ´åˆã€```nmp start```ã‚’```npm run dev```

## æ‰‹é †3
ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§ä»»æ„ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•ã—ã€ä¸‹è¨˜ã‚’å®Ÿè¡Œã€‚
`docker-compose run --rm ã‚µãƒ¼ãƒ“ã‚¹å sh -c 'npx create-react-app ä»»æ„ã®ãƒ•ã‚¡ã‚¤ãƒ«å'`

typescriptã¯ä¸‹è¨˜
`docker-compose run --rm ã‚µãƒ¼ãƒ“ã‚¹å sh -c 'npx create-react-app ä»»æ„ã®ãƒ•ã‚¡ã‚¤ãƒ«å --template typescript'`

## æ‰‹é †4
ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§ä¸‹è¨˜ã‚’å®Ÿè¡Œã€‚
`docker-compose build`

## æ‰‹é †5
ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§ä¸‹è¨˜ã‚’å®Ÿè¡Œã€‚
`docker-compose up`

`http://localhost:3000/`
ã§ç¢ºèªã€‚


## ã¾ã¨ã‚
ã“ã‚Œã§Reactã®æœ€æ–°ãƒãƒ¼ã‚·ãƒ§ãƒ³ãŒä½¿ãˆã¾ã—ãŸã€‚

